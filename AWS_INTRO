https://www.youtube.com/watch?v=6vNC_BCqFmI  AWS Storage - EBS vs S3 vs EFS

-------------IAM : Identity and Access Management--------------
 - Provides authentication and authorization
 - Users: User can belong to multiple groups. (attach the policies to the users). "IAMuserChangepassword"
 - Groups : Groups are collections of "users" and have "policies" attached to them.
   - IAM User has limited permission to the account.
 - Policies: Policies are JSON documents that outline permissions for users, groups or roles
     1. User based policies
       - IAM policies define which API calls should be allowed for a specific user.
     2. Resource based policies
       - Control access to an AWS resource.
 - Roles: Collection of policies for AWS services.

--------------EC2 (ELASTIC CLOUD COMPUTE)-----------------------
Ref: 
 - https://aws.amazon.com/ec2/instance-types/?gclid=Cj0KCQjw97SzBhDaARIsAFHXUWC59MDXwZjF0-rihCpL0Kmo7C6uH4L97mLq9FB7yeqUGFGmTfxsqe0aAihgEALw_wcB&trk=32f4fbd0-ffda-4695-a60c-8857fab7d0dd&sc_channel=ps&ef_id=Cj0KCQjw97SzBhDaARIsAFHXUWC59MDXwZjF0-rihCpL0Kmo7C6uH4L97mLq9FB7yeqUGFGmTfxsqe0aAihgEALw_wcB:G:s&s_kwcid=AL!4422!3!476942910367!p!!g!!ec2!11539707735!118057054208
 - It is a Virtual server

 - Types of EC2 Instances:
 - General Purpose
   - Provide a balance of compute, memory and networking resources
   - Ideal for applications that use these resources in equal proportions such as web servers and code repositories.
   - consists of M and T family Instances
 - Compute optimized
   - Ideal for compute bound applications that benefit from high performance processors.
   - High performance computing (HPC), batch processing, ad serving, video encoding, gaming, scientific modelling, distributed analytics, and CPU-based machine learning inference.
   - Consists of C Family Instances
 - Memory optimized
   - deliver fast performance for workloads that process large data sets in memory
   - Consists of R, X and U Family Instances
 - Storage optimized
   - designed for workloads that require high, sequential read and write access to very large data sets on local storage
   - Consists of I,D and H family Instances
 - Accelerated computing
   - use hardware accelerators, or co-processors, to perform functions, such as floating point number calculations, graphics processing, or data pattern matching, more efficiently than is possible in software running on CPUs
   - Consists of P,G,T,I,D,F,V Family Instances

 - Instance States:
   - Stop
   - Start
   - Terminate
   - Hybernate
   - Standby

- Steps Involved in Launcing an Instance:
  - Name/Tags
  - AMI (Linux,Ubuntu,macos,Redhat etc..)
  - Instance type (e.g. t2 micro)
  - Key pair Login
  - Network settings
    - VPC
    - Subnet
    - Security groups
  - Configure storage (e.g. gp2,gp3 etc..)
  - Launch Instance

- Steps to change the Instance type:
  - Stop the Instance
  - Actions ->Instance settings ->Change Instance type ->Select New Instance type ->Apply

- Regions and availability zone

---------------AMI (Amazon Machine Images)---------------------

- AMI is a template that contains the software configuration (operating system, application server, and applications) required to launch the instance

---------------EBS (Elastic Block Storage)----------------------

Ref:
 - https://docs.aws.amazon.com/ebs/latest/userguide/ebs-volume-types.html
 - https://www.youtube.com/watch?v=usOv-5_hzu0&t=22s (YouTube)

 - Block storage for use with EC2
 - Similar to External harddisk attached to a server
 - Availability zone specific
 - Can be linked or delinked to any server within the same availability zone
 - Amazon itself creates a replica of EBS in the same availability zone (e.g. Mumbai has 2 Az's, Az 'A' is having the EBS, its replica will be created by Amazon)
 - It can be moved to other Az by creating its snapshot and moving it to that Az
 - EBS Volume can be increased but cannot be decreased, take a snapshot and create a volume for this snapshot.
 - Volume type can be changed (e.g. gp2 to io1)(all combinatios is not possible, there is some restriction)

 - Volume types:
 1. Solid state drive (SSD) volumes:
     - General Purpose SSD 
        - gp2 (volume size -> 1 GiB - 16 TiB)
        - gp3
     - Provisioned IOPS SSD
        - io2 Block Express 3 (volume size -> 4 GiB - 64 TiB 4)
        - i01 (volume size -> (volume size -> 4 GiB - 16 TiB)
 2. Throughput Optimized HDD and Cold HDD volumes
     - st1 -> Consistent high throughput
     - sc1 -> Colder log processing
     
 - How to Increase the volume of the EBS in AWS EC2:
    1. Take Snapshot of EBS Volume
       - Select the Instance ->Go to Actions ->Create snapshot
    2. Increase EBS Volume size in AWS console
       - Select the Instance ->Go to Modify Volume ->Increase the size
    3. Extend a linux file system after resizing a Volume

   - Command to Extend the File system:
      - df -hT
      - sudo lsblk (Check whether the Volume has a partition)
      - sudo growpart /dev/xvda/1 (Extend the partition)
      - sudo xfs_growfs -d / (For XFS File system) (Extend the file system on /:)
      - sudo resize2fs /dev/xvda1 (For Ext4 File system)

   - Use case:
     - Low Latency access to data
     - Relations and NoSQL database storage
     - Data warehouse ETL
     - E.x. SAP ERP, Oracle ERP, MongoDB, MYSQL

------------------EFS (Elastic File System)---------------------
- File-level, fully managed, storage provided by AWS
- can be accessed by multiple EC2 instances concurrently
- Designed for high throughput and low latency applications
- Resources that can be mount on EFS:
  - Amazon EC2.
  - Amazon ECS.
  - Amazon EKS.
  - AWS Fargate.
  - AWS lambda 
- Different Performance Modes in EFS:
  - General-purpose
  - Max I/O
- Different Throughput Modes in EFS:
  - Bursting -> Allows 100MBPS of burst speed per TB of storage
  - Enhanced -> Max burst speed of the EFS can be decided by user but will be charged more

- Use case:
  - shared access to files
  - Web serving
  - Big data and analytics
  - Content Management
  - Container storage

--------------------S3 (Simple storage service)---------------------
- Object storage - Flat structure
- API access to data
- Metadata driven (Attributes, policy)
- For storing pictures and videos
- Can be accessed from any region over Internet

- Use Case:
  - Unlimited space
  - Media and Entertainment e.g. Images, videos
  - Log files
  - Backup and archives
  - Version Control System

- Storage performance parameter:
  - IOPS: Input output operations per second e.x. 3000 IOPS
  - Throughput: How fast storage can read/write data e.x. 10 MB/s
  - Latency: Time delay between request of data and response of data

- Cost:
  - S3 < EBS < EFS

      
--------------VPC (VIRTUAL PRIVATE CLOUD)----------------------

 - Size of VPC can be defined by using IP address range
 - subnet -> Splitting the IP address of the VPC
 - Inside VPC - Internet gateway - Public subnet- Elastic Load balancer (ELB) (Sends the request to private subnet) - Router Table - Security group - Private subnet
 - NACL - 
 - NAT Gateway - Helps to download resource from Internet and masks the IP address. It is cretaed in the Public subnet
 - SNAT - 
